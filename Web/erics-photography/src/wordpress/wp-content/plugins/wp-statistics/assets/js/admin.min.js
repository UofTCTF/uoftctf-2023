"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}jQuery(document).ready(function(e){var t;t=function(c){var l={},d={};c.ajaxq=function(e,a){if(void 0===a)throw"AjaxQ: queue name is not provided";var o=c.Deferred(),t=o.promise();t.success=t.done,t.error=t.fail,t.complete=t.always;var r,s="function"==typeof a,n=s?null:c.extend(!0,{},a);return r=function(){var t=c.ajax.apply(window,[s?a():n]);return t.done(function(){o.resolve.apply(this,arguments)}),t.fail(function(){o.reject.apply(this,arguments)}),t.always(i),t},l[e]?l[e].push(r):(l[e]=[],r=r(),d[e]=r),t;function i(){var t;l[e]&&((t=l[e].shift())?(t=t(),d[e]=t):(delete l[e],delete d[e]))}},c.each(["getq","postq"],function(t,s){c[s]=function(t,e,a,o,r){return c.isFunction(a)&&(r=r||o,o=a,a=void 0),c.ajaxq(t,{type:"postq"===s?"post":"get",url:e,data:a,success:o,dataType:r})}});function e(t){return l.hasOwnProperty(t)&&0<l[t].length||d.hasOwnProperty(t)}c.ajaxq.isRunning=function(t){return t?e(t):function(){for(var t in l)if(e(t))return!0;return!1}()},c.ajaxq.getActiveRequest=function(t){if(!t)throw"AjaxQ: queue name is required";return d[t]},c.ajaxq.abort=function(t){if(!t)throw"AjaxQ: queue name is required";var e=c.ajaxq.getActiveRequest(t);delete l[t],delete d[t],e&&e.abort()},c.ajaxq.clear=function(t){if(t)l[t]&&(l[t]=[]);else for(var e in l)l.hasOwnProperty(e)&&(l[e]=[])}},"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t(require("jquery")):t(jQuery);var a,o,r,s,n,i,c,l,d,p,u,_,h={};function m(t){jQuery(".wp-statistics-settings ul.tabs li").removeClass("current"),jQuery(".wp-statistics-settings .tab-content").removeClass("current"),jQuery("[data-tab="+t+"]").addClass("current"),jQuery("#"+t).addClass("current"),jQuery("#wp-statistics-settings-form").length&&(t=jQuery(location).attr("href")+"&tab="+t,jQuery("#wp-statistics-settings-form").attr("action",t).submit())}function g(t,e){jQuery(document).on("change",t,function(t){t.preventDefault();t=jQuery(e);this.checked?t.show("slow"):(t.hide("slow"),t.find("input[type=checkbox]").prop("checked",!1))})}h.global="undefined"!=typeof wps_global?wps_global:[],h._=function(t){return t in this.global.i18n?this.global.i18n[t]:""},h.is_active=function(t){return 1===h.global.options[t]},h.ajax_queue={key:"wp-statistics",time:400},h.ajaxQ=function(e,a,o,r){var t=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"GET",s=!(5<arguments.length&&void 0!==arguments[5])||arguments[5];!1!==e&&"metabox"!==e||(e=h.global.meta_box_api);t={url:e,type:t,dataType:"json",crossDomain:!0,cache:!1,data:a,success:function(t){e===h.global.meta_box_api&&!0===s?t.no_data?jQuery(h.meta_box_inner(a.name)).empty().html(h.no_meta_box_data()):(jQuery(h.meta_box_inner(a.name)).empty().html(h[o].view(t)),h[o].meta_box_init&&setTimeout(function(){h[o].meta_box_init(t)},150)):h[o](t)},error:function(t){e===h.global.meta_box_api&&!0===s?jQuery(h.meta_box_inner(a.name)).empty().html(h[r](t.responseText)):h[r](t.responseText)}};e===h.global.meta_box_api&&(t.beforeSend=function(t){t.setRequestHeader("X-WP-Nonce",h.global.rest_api_nonce),t.setRequestHeader("Access-Control-Allow-Origin","*")}),jQuery.ajaxq(h.ajax_queue.key,t)},h.placeholder=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return'<div class="wps-ph-item"><div class="wps-ph-col-12">'.concat(h.placeholder_content("picture"),"").concat(h.placeholder_content("line"),"</div>")+(!1!==t?t:"")+"</div>"},h.line_placeholder=function(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e='<div class="wps-ph-item">',a=0;a<t;a++)e+='<div class="wps-ph-col-12"> <div class="wps-ph-row"><div class="wps-ph-col-6 big"></div><div class="wps-ph-col-4 empty big"></div><div class="wps-ph-col-4"></div><div class="wps-ph-col-8 empty"></div><div class="wps-ph-col-6"></div><div class="wps-ph-col-6 empty"></div><div class="wps-ph-col-12"></div> </div></div>';return e+="</div>"},h.circle_placeholder=function(){return'<div class="wps-ph-item"> '.concat(h.placeholder_content("circle"),"</div>")},h.rectangle_placeholder=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return'<div class="wps-ph-item'+(0<t.length?" "+t:"")+'"><div class="wps-ph-col-12">'.concat(h.placeholder_content("picture"),"</div></div>")},h.placeholder_content=function(){var t="";switch(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"line"){case"picture":t='<div class="wps-ph-picture"></div>';break;case"line":t='<div class="wps-ph-row"><div class="wps-ph-col-6 big"></div><div class="wps-ph-col-4 empty big"></div><div class="wps-ph-col-2 big"></div><div class="wps-ph-col-4"></div><div class="wps-ph-col-8 empty"></div><div class="wps-ph-col-6"></div><div class="wps-ph-col-6 empty"></div><div class="wps-ph-col-12"></div> </div>';break;case"circle":t='<div class="wps-ph-col-2"></div><div class="wps-ph-col-8"><div class="wps-ph-avatar"></div></div>'}return t},h.exist_tag=function(t){return jQuery(t).length},h.date_picker=function(){jQuery.fn.datepicker&&"undefined"!=typeof wps_i18n_jquery_datepicker&&jQuery("input[data-wps-date-picker]").datepicker({monthNames:wps_i18n_jquery_datepicker.monthNames,monthNamesShort:wps_i18n_jquery_datepicker.monthNamesShort,dayNames:wps_i18n_jquery_datepicker.dayNames,dayNamesShort:wps_i18n_jquery_datepicker.dayNamesShort,dayNamesMin:wps_i18n_jquery_datepicker.dayNamesMin,dateFormat:wps_i18n_jquery_datepicker.dateFormat,firstDay:wps_i18n_jquery_datepicker.firstDay,isRTL:wps_i18n_jquery_datepicker.isRTL,onSelect:function(t){var e=jQuery(this).attr("data-wps-date-picker");0<t.length&&jQuery("input[id=date-"+e+"]").val(t)}})},h.select2=function(){jQuery("select[data-type-show=select2]").select2()},h.redirect=function(t){window.location.replace(t)},h.line_chart=function(t,e,a,o){t=document.getElementById(t).getContext("2d");h.is_active("rtl")&&(Chart.defaults.global.defaultFontFamily="tahoma"),new Chart(t,{type:"line",data:{labels:a,datasets:o},options:{responsive:!0,legend:{position:"bottom"},animation:{duration:1500},title:{display:!0,text:e},tooltips:{mode:"index",intersect:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},h.pie_chart=function(t,e,a){var o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],t=document.getElementById(t).getContext("2d");h.is_active("rtl")&&(Chart.defaults.global.defaultFontFamily="tahoma"),!1===o&&(o=function(t,e){var a=e.datasets[t.datasetIndex],o=a.data.reduce(function(t,e,a,o){return t+e}),a=a.data[t.index];return Math.floor(a/o*100+.5)+"% - "+e.labels[t.index]}),new Chart(t,{type:"pie",data:{labels:e,datasets:a},options:{responsive:!0,legend:{position:"bottom"},animation:{duration:1500},tooltips:{callbacks:{label:o}}},plugins:[{afterDraw:function(t){var e,a,o;!0===t.data.datasets[0].data.every(function(t){return 0==t})&&(e=t.chart.ctx,a=t.chart.width,o=t.chart.height,t.clear(),e.save(),e.textAlign="center",e.textBaseline="middle",e.font="14px normal 'tahoma'",e.fillText(h._("no_data"),a/2,o/2),e.restore())}}]})},h.chart_id=function(t){return"wp-statistics-"+t+"-meta-box-chart"},h.random_color=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=[[243,156,18,"#f39c12"],[52,152,219,"#3498db"],[192,57,43,"#c0392b"],[155,89,182,"#9b59b6"],[39,174,96,"#27ae60"],[230,126,34,"#e67e22"],[142,68,173,"#8e44ad"],[46,204,113,"#2ecc71"],[41,128,185,"#2980b9"],[22,160,133,"#16a085"],[211,84,0,"#d35400"],[44,62,80,"#2c3e50"],[241,196,15,"#f1c40f"],[231,76,60,"#e74c3c"],[26,188,156,"#1abc9c"],[46,204,113,"#2ecc71"],[52,152,219,"#3498db"],[155,89,182,"#9b59b6"],[52,73,94,"#34495e"],[22,160,133,"#16a085"],[39,174,96,"#27ae60"],[44,62,80,"#2c3e50"],[241,196,15,"#f1c40f"],[230,126,34,"#e67e22"],[231,76,60,"#e74c3c"],[236,240,241,"#9b9e9f"],[149,165,166,"#a65d20"]];return e[!1===t?Math.floor(Math.random()*e.length):t]},h.site_icon=function(t){return'<img src="https://www.google.com/s2/favicons?domain='.concat(t,'" width="16" height="16" alt="').concat(t,'" style="vertical-align: -3px;" />')},h.wordpress_postbox_ajax=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"enable",e=jQuery(".postbox .hndle, .postbox .handlediv");"enable"===t?e.on("click",window.postboxes.handle_click):e.off("click",window.postboxes.handle_click)},h.isset=function(t){for(var e=Array.prototype.slice.call(arguments,1),a=0;a<e.length;a++){if(!t||!t.hasOwnProperty(e[a]))return!1;t=t[e[a]]}return!0},h.number_format=function(t,e,a,o){if(null==t||!isFinite(t))throw new TypeError("number is not valid");var r;e||(e=1<(r=t.toString().split(".").length)?r:0),a=a||".",o=o||",";e=(t=(t=parseFloat(t).toFixed(e)).replace(".",a)).split(a);return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,o),t=e.join(a)},h.set_equal_height=function(t,e){var a=jQuery(t).height(),o=jQuery(e).height(),r=e,e=a;a<o&&(r=t,e=o),jQuery(r).css("height",e+"px")},h.Create_Half_PostBox=function(t,e){return'<div class="postbox-container wps-postbox-half '.concat(t,'"><div class="metabox-holder"><div class="meta-box-sortables"> <div class="postbox" id="').concat(e,'"> <div class="inside"></div></div></div></div></div>')},h.isIP=function(t){var e="(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]?|0)";return new RegExp("^".concat(e,"\\.").concat(e,"\\.").concat(e,"\\.").concat(e,"$")).test(t)},h.getLinkParams=function(t){t=(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||window.location.href).match(new RegExp("(?:[?&]"+t+"=)([^&]+)"));return t?t[1]:null},h.sum=function(t){return t.reduce(function(t,e){return t+e},0)},h.sanitize_meta_box_name=function(t){return t.replace(new RegExp("-","g"),"_")},h.get_meta_box_method=function(t){return this.sanitize_meta_box_name(t)+"_meta_box"},h.getMetaBoxKey=function(t){return"wp-statistics-"+t+"-widget"},h.no_meta_box_data=function(){return h._("no_data")},h.error_meta_box_data=function(t){t=JSON.parse(t);return h.isset(t,"message")?t.message:h._("rest_connect")},h.get_meta_box_info=function(t){return t in h.global.meta_boxes?h.global.meta_boxes[t]:[]},h.meta_box_lang=function(t,e){return e in h.global.meta_boxes[t].lang?h.global.meta_boxes[t].lang[e]:""},h.meta_box_inner=function(t){return"#"+h.getMetaBoxKey(t)+" div.inside"},h.meta_box_name_by_id=function(t){return t.split("statistics-").pop().split("-widget")[0]},h.meta_box_button=function(t){var e="#"+h.getMetaBoxKey(t)+" .handle-actions button:first",a=h.get_meta_box_info(t),o="z-index: 9999;position: absolute;top: 1px;",r="right";h.is_active("rtl")&&(r="left"),jQuery("#"+h.getMetaBoxKey(t)+" button[class*=wps-refresh], #"+h.getMetaBoxKey(t)+" button[class*=wps-more]").remove(),h.is_active("more_btn")&&h.isset(a,"page_url")&&jQuery('<button class="handlediv wps-more"'+(h.is_active("gutenberg")?' style="'.concat(o).concat(r,': 3%;" '):'style="line-height: 28px;"')+' type="button" onclick="location.href = \''+h.global.admin_url+"admin.php?page="+a.page_url+'\';"><span class="screen-reader-text">'+h._("more_detail")+'</span> <span class="dashicons dashicons-external"></span></button>').insertBefore(e),h.is_active("more_btn")&&h.isset(a,"page_url")?jQuery('<button class="handlediv wps-refresh"'+(h.is_active("gutenberg")?' style="'.concat(o).concat(r,': 6%;" '):'style="line-height: 28px;"')+' type="button"><span class="screen-reader-text">'+h._("reload")+'</span> <span class="dashicons dashicons-update"></span> </button>').insertAfter("#"+h.getMetaBoxKey(t)+" button[class*=wps-more]"):jQuery('<button class="handlediv wps-refresh"'+(h.is_active("gutenberg")?' style="'.concat(o).concat(r,': 3%;" '):'style="line-height: 28px;"')+' type="button"><span class="screen-reader-text">'+h._("reload")+'</span> <span class="dashicons dashicons-update"></span> </button>').insertBefore(e)},h.run_meta_box=function(t){var e,a,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];h.exist_tag("#"+h.getMetaBoxKey(t))&&(h.is_active("gutenberg")||!h.is_active("gutenberg")&&jQuery("#"+h.getMetaBoxKey(t)).is(":visible"))&&(e=jQuery(h.meta_box_inner(t)),(a=h.get_meta_box_method(t))in h&&("placeholder"in h[a]?e.html(h[a].placeholder()):e.html(h.placeholder()),!0===r&&h.meta_box_button(t),!(t={name:t})!==o&&(t=Object.assign(o,t)),"params"in h[a]&&(t=Object.assign(t,h[a].params())),h.ajaxQ("metabox",t,a,"error_meta_box_data")))},h.run_meta_boxes=function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!1===t&&(t=Object.keys(h.global.meta_boxes)),t.forEach(function(t){h.run_meta_box(t)})},jQuery(document).on("mouseenter mouseleave",".wps-refresh, .wps-more",function(t){"mouseenter"===t.type?h.wordpress_postbox_ajax("disable"):h.wordpress_postbox_ajax("enable")}),jQuery(document).on("click",".wps-refresh",function(t){t.preventDefault();t=jQuery(this).closest(".postbox").attr("id"),t=h.meta_box_name_by_id(t);h.run_meta_box(t)}),jQuery(document).on("click",'input[type=checkbox][id^="wp-statistics-"][id$="-widget-hide"]',function(){var t;jQuery(this).is(":checked")&&(t=jQuery(this).attr("id"),t=h.meta_box_name_by_id(t),h.run_meta_box(t))}),h.btn_group_chart=function(e){var a,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o={7:h._("str_week"),30:h._("str_month"),365:h._("str_year")};"ago"==t.type&&(a=parseInt(t.days));var r='<div class="wps-btn-group"><div class="btn-group" role="group">';return Object.keys(o).forEach(function(t){r+='<button type="button" class="btn '+(t==a?"btn-primary":"btn-default")+'" data-chart-time="'.concat(e,'" data-time="').concat(t,'">').concat(o[t],"</button>")}),r+='<button type="button" class="btn '+("between"==t.type?"btn-primary":"btn-default")+'" data-custom-date-picker="'.concat(e,'">').concat(h._("custom"),"</button>"),r+="</div></div>",r+='<div data-chart-date-picker="'.concat(e,'"')+("ago"==t.type?' style="display:none;"':"")+'><input type="text" size="18" name="date-from" data-wps-date-picker="from" value="'.concat(t.from,'" placeholder="YYYY-MM-DD" autocomplete="off">')+h._("to")+'<input type="text" size="18" name="date-to" data-wps-date-picker="to" value="'.concat(t.to,'" placeholder="YYYY-MM-DD" autocomplete="off"><input type="submit" value="')+h._("go")+'" data-between-chart-show="'.concat(e,'" class="button-primary"><input type="hidden" name="" id="date-from" value="').concat(t.from,'"><input type="hidden" name="" id="date-to" value="').concat(t.to,'"></div>')},jQuery(document).on("click",".wps-btn-group button",function(){jQuery(".wps-btn-group button").attr("class","btn btn-default"),jQuery(this).attr("class","btn btn-primary")}),jQuery(document).on("click","button[data-custom-date-picker]",function(){jQuery("div[data-chart-date-picker= "+jQuery(this).attr("data-custom-date-picker")+"]").slideDown()}),jQuery(document).on("click","button[data-chart-time]",function(){h.run_meta_box(jQuery(this).attr("data-chart-time"),{ago:jQuery(this).attr("data-time"),"no-data":"no"})}),jQuery(document).on("click","input[data-between-chart-show]",function(){var t=jQuery(this).attr("data-between-chart-show");h.run_meta_box(t,{from:jQuery("div[data-chart-date-picker="+t+"] input[id=date-from]").val(),to:jQuery("div[data-chart-date-picker="+t+"] input[id=date-to]").val(),"no-data":"no"})}),h.browsers_meta_box={placeholder:function(){return h.circle_placeholder()},view:function(t){var e=0<arguments.length&&void 0!==t?t:[],t="";return h.is_active("overview_page")&&(t+=h.btn_group_chart("browsers",e),setTimeout(function(){h.date_picker()},1e3)),t+='<canvas id="'+h.chart_id("browsers")+'" height="220"></canvas>'},meta_box_init:function(t){for(var e,a=0<arguments.length&&void 0!==t?t:[],o=[],r=0;r<=10;r++)e=h.random_color(r),o.push("rgba("+e[0]+","+e[1]+","+e[2]+",0.4)");t=[{label:h._("browsers"),data:a.browsers_value,backgroundColor:o}];if(h.pie_chart(h.chart_id("browsers"),a.browsers_name,t),h.exist_tag("#"+h.getMetaBoxKey("browsers-table"))){["browsers-table","browsers"].forEach(function(t){jQuery("#"+h.getMetaBoxKey(t)+" .inside").removeAttr("style")});for(var s='<div class="title-center">'.concat(a.title,'</div><table width="100%" class="widefat table-stats"><tr><td class="wps-text-danger">').concat(h._("browser"),'</td><td class="wps-text-danger">').concat(h._("visitor_count"),'</td><td class="wps-text-danger">').concat(h._("percentage"),"</td></tr>"),n=0;n<a.browsers_name.length;n++)s+=" <tr><td>".concat(a.browsers_name[n],"</td><td>").concat(0<parseInt(a.browsers_value[n])?"".concat("other"!==a.info.agent[n]?'<a href="'+a.info.visitor_page+"&agent="+a.info.agent[n]+"&from="+a.from+"&to="+a.to+'" target="_blank">':""," ").concat(h.number_format(a.browsers_value[n])," ").concat("other"!==a.info.agent[n]?"</a>":""):a.browsers_value[n],"</td><td>").concat(h.number_format(a.browsers_value[n]/a.total*100),"%</td> </tr>");s+=" <tr><td>".concat(h._("total"),"</td><td>").concat(h.number_format(a.total),"</td><td></td></tr>"),s+="</table>",jQuery("#"+h.getMetaBoxKey("browsers-table")+" .inside").html(s),h.set_equal_height(".postBox-table .inside",".postBox-chart .inside");for(var i="",c=0;c<a.browsers_name.length;c++)0<parseInt(a.browsers_value[c])&&a.info.agent[c]&&(i+='<div class="wps-title-group"><img src="'.concat(a.info.logo[c],'" alt="').concat(a.browsers_name[c],'" style="vertical-align: -3px;"> ').concat(a.browsers_name[c],'</div><div class="wp-clearfix"></div>'),i+=h.Create_Half_PostBox("postBox-chart-"+a.info.agent[c],"browser-"+a.info.agent[c]+"-chart"),i+=h.Create_Half_PostBox("postBox-table-"+a.info.agent[c],"browser-"+a.info.agent[c]+"-table"),i+='<div class="wp-clearfix"></div>');jQuery(i).insertAfter("#browsers-table");for(var l=0;l<a.browsers_name.length;l++)0<parseInt(a.browsers_value[l])&&a.info.agent[l]&&this.run_custom_browser(a.info.agent[l])}},run_custom_browser:function(t){["browser-"+t+"-chart","browser-"+t+"-table"].forEach(function(t){jQuery("#"+t+" .inside").css("height","430px")}),jQuery("#browser-"+t+"-table .inside").html(h.placeholder()),jQuery("#browser-"+t+"-chart .inside").html(h.circle_placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;");var e={name:"browsers",browser:t};["from","to"].forEach(function(t){h.isset(h.global,"request_params",t)&&(e[t]=h.global.request_params[t])}),h.ajaxQ(h.global.meta_box_api,e,"show_custom_agent","error_custom_agent","GET",!1)}},h.show_custom_agent=function(n){var i=n.info.agent[0];jQuery("#browser-"+i+"-chart .inside").html('<canvas id="'+h.chart_id("browser-"+i)+'" height="220"></canvas>'),setTimeout(function(){for(var t,e=[],a=0;a<=10;a++)t=h.random_color(a),e.push("rgba("+t[0]+","+t[1]+","+t[2]+",0.4)");var o=[{label:h._("browsers"),data:n.browsers_value,backgroundColor:e}];h.pie_chart(h.chart_id("browser-"+i),n.browsers_name,o),["browser-"+i+"-chart","browser-"+i+"-table"].forEach(function(t){jQuery("#"+t+" .inside").removeAttr("style")});for(var r='<div class="title-center">'.concat(n.title,'</div><table width="100%" class="widefat table-stats"><tr><td class="wps-text-danger">').concat(h._("version_list"),'</td><td class="wps-text-danger">').concat(h._("visitor_count"),'</td><td class="wps-text-danger">').concat(h._("percentage"),"</td></tr>"),s=0;s<n.browsers_name.length;s++)r+=" <tr><td>".concat(n.browsers_name[s],"</td><td>").concat(0<parseInt(n.browsers_value[s])?h.number_format(n.browsers_value[s]):n.browsers_value[s],"</td><td>").concat(h.number_format(n.browsers_value[s]/n.total*100),"%</td></tr>");r+=" <tr><td>".concat(h._("total"),"</td><td>").concat(h.number_format(n.total),"</td><td></td></tr>"),r+="</table>";o="#browser-"+i+"-table .inside";jQuery(o).html(r),h.set_equal_height(o,"#browser-"+i+"-chart .inside")},500)},h.error_custom_agent=function(t){},h.countries_meta_box={view:function(t){var t=0<arguments.length&&void 0!==t?t:[],e="";e+='<table width="100%" class="widefat table-stats wps-report-table"><tbody><tr><td width="10%" style=\'text-align: left\'>'.concat(h._("rank"),"</td><td width=\"10%\" style='text-align: left'>").concat(h._("flag"),"</td><td width=\"40%\" style='text-align: left'>").concat(h._("country"),"</td><td width=\"40%\" style='text-align: left'>").concat(h._("visitor_count"),"</td></tr>");var a=1;return t.forEach(function(t){e+="<tr><td style='text-align: left;'>".concat(a,"</td><td style='text-align: left;'><img src=\"").concat(t.flag,'" title="').concat(t.name,'" alt="').concat(t.name,"\"/></td><td style='text-align: left;'>").concat(t.name,"</td><td style='text-align: left;'><a href=\"").concat(t.link,'" title="').concat(t.name,'" target="_blank">').concat(h.number_format(t.number),"</a></td></tr>"),a++}),e+="</tbody></table>"}},h.exclusions_meta_box={placeholder:function(){return h.rectangle_placeholder()},view:function(t){var e=h.is_active("overview_page")?110:210;h.isset(h.global,"request_params","page")&&"exclusions"===h.global.request_params.page&&(e=80);t="";return t+='<canvas id="'+h.chart_id("exclusions")+'" height="'+e+'"></canvas>'},meta_box_init:function(t){var e=0<arguments.length&&void 0!==t?t:[];this.show_chart(h.chart_id("exclusions"),e),h.isset(h.global,"request_params","page")&&"exclusions"===h.global.request_params.page&&(t="span[id='number-total-chart-exclusions']",h.exist_tag(t)&&(e=h.sum(Object.values(e.total)),jQuery(t).html(h.number_format(e))))},show_chart:function(t,e){var r=1<arguments.length&&void 0!==e?e:[],s="",n=[],i=0;Object.keys(r.exclusions).forEach(function(t){var e,a,o=h.sum(Object.values(r.value[t]));0<o&&(e=r.exclusions[t],a=h.random_color(i),n.push({label:e,data:r.value[t],backgroundColor:"rgba("+a[0]+","+a[1]+","+a[2]+",0.3)",borderColor:"rgba("+a[0]+","+a[1]+","+a[2]+",1)",borderWidth:1,fill:!0}),s+="<tr><th>".concat(e,'</th> <th class="th-center"><span style="color: #9a9494 !important;">').concat(h.number_format(o),"</span></th></tr>"),i++)}),h.exist_tag("table[data-table=exclusions]")&&jQuery(s).insertAfter("table[data-table=exclusions] tr:first"),h.line_chart(t,r.title,r.date,n)}},h.hits_meta_box={placeholder:function(){return h.rectangle_placeholder()},view:function(t){var e=0<arguments.length&&void 0!==t?t:[],a=h.is_active("overview_page")?110:210;h.isset(h.global,"request_params","page")&&"hits"===h.global.request_params.page&&(a=80);t="";return h.is_active("overview_page")&&(t+=h.btn_group_chart("hits",e),setTimeout(function(){h.date_picker()},1e3)),t+='<canvas id="'+h.chart_id("hits")+'" height="'+a+'"></canvas>'},meta_box_init:function(t){var a=0<arguments.length&&void 0!==t?t:[];this.hits_chart(h.chart_id("hits"),a),h.isset(h.global,"request_params","page")&&"hits"===h.global.request_params.page&&["visits","visitors"].forEach(function(t){var e="span[id^='number-total-chart-"+t+"']";h.exist_tag(e)&&jQuery(e).html(a.total[t])})},hits_chart:function(t,e){var a=1<arguments.length&&void 0!==e?e:[],e=a;"hits-chart"in a&&(e=a["hits-chart"]);a=[];h.is_active("visitors")&&a.push({label:h._("visitors"),data:e.visitors,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,fill:!0}),h.is_active("visits")&&a.push({label:h._("visits"),data:e.visits,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,fill:!0}),h.line_chart(t,e.title,e.date,a)}},h.hitsmap_meta_box={placeholder:function(){return h.rectangle_placeholder()},view:function(){return'<div id="wp-statistics-visitors-map"></div>'},meta_box_init:function(t){var o=0<arguments.length&&void 0!==t?t:[],r=Array();o.hasOwnProperty("country")&&Object.keys(o.country).forEach(function(e){var a="<div class='map-html-marker'><img src='".concat(o.country[e].flag,"' alt=\"").concat(o.country[e].name,"\" title='").concat(o.country[e].name,"' class='log-tools'/> ").concat(o.country[e].name," [").concat(o.total_country[e],"]<hr />");Object.keys(o.visitor[e]).forEach(function(t){a+="<p><img src='".concat(o.visitor[e][t].browser.logo,"' alt=\"").concat(o.visitor[e][t].browser.name,"\" class='log-tools' title='").concat(o.visitor[e][t].browser.name,"'/> ").concat(o.visitor[e][t].ip," ")+("Unknown"!==o.visitor[e][t].city?"- "+o.visitor[e][t].city:"")+"</p>"}),a+="</div>",r[e]=a}),jQuery("#wp-statistics-visitors-map").vectorMap({map:"world_en",backgroundColor:"#fff",borderColor:"#7e7e7e",borderOpacity:.6,color:"#e6e5e2",hoverColor:"#c3403c",colors:o.color,onLabelShow:function(t,e,a){void 0!==r[a]?e.html(r[a]):e.html(e.html()+" [0]<hr />")}})}},h.pages_chart_meta_box={placeholder:function(){return h.rectangle_placeholder()},view:function(){return'<canvas id="'+h.chart_id("pages-chart")+'" height="80"></canvas>'},meta_box_init:function(t){t=0<arguments.length&&void 0!==t?t:[];this.show_chart(h.chart_id("pages-chart"),t),h.exist_tag("span[id=number-total-visits]")&&jQuery("span[id=number-total-visits]").html(t.total),h.exist_tag("span[id=number-total-chart-visits]")&&jQuery("span[id=number-total-chart-visits]").html(t.total_dates)},show_chart:function(t,e){e=1<arguments.length&&void 0!==e?e:[];h.line_chart(t,e.title,e.date,[{label:h._("visits"),data:e.stat,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1,fill:!0}])}},h.pages_meta_box={view:function(t){var t=0<arguments.length&&void 0!==t?t:[],e="";e+='<table width="100%" class="widefat table-stats wps-report-table"><tbody><tr><td width=\'10%\'>'.concat(h._("id"),"</td><td width='40%'>").concat(h._("title"),"</td><td width='40%'>").concat(h._("link"),"</td><td width='10%'>").concat(h._("visits"),"</td></tr>");var a=1;return t.forEach(function(t){e+="<tr><td style='text-align: left;'>".concat(a,"</td><td style='text-align: left;'><span title='").concat(t.title,"' class='wps-cursor-default wps-text-wrap'>").concat(t.title,"</span></td><td style='text-align: left;'><a href=\"").concat(t.link,'" title="').concat(t.title,'" target="_blank">').concat(t.str_url,'</a></td><td style="text-align: left"><a href="').concat(t.hits_page,'" class="wps-text-danger">').concat(t.number,"</a></td></tr>"),a++}),e+="</tbody></table>"}},h.platforms_meta_box={placeholder:function(){return h.circle_placeholder()},view:function(t){var e=0<arguments.length&&void 0!==t?t:[],t="";return h.is_active("overview_page")&&(t+=h.btn_group_chart("platforms",e),setTimeout(function(){h.date_picker()},1e3)),t+='<canvas id="'+h.chart_id("platforms")+'" height="220"></canvas>'},meta_box_init:function(t){for(var e,a=0<arguments.length&&void 0!==t?t:[],o=[],r=0;r<=20;r++)e=h.random_color(),o.push("rgba("+e[0]+","+e[1]+","+e[2]+",0.4)");t=[{label:h._("platform"),data:a.platform_value,backgroundColor:o}];if(h.pie_chart(h.chart_id("platforms"),a.platform_name,t),h.exist_tag("#"+h.getMetaBoxKey("platforms-table"))){["platforms-table","platforms"].forEach(function(t){jQuery("#"+h.getMetaBoxKey(t)+" .inside").removeAttr("style")});for(var s='<div class="title-center">'.concat(a.title,'</div><table width="100%" class="widefat table-stats"><tr><td class="wps-text-danger">').concat(h._("platform"),'</td><td class="wps-text-danger">').concat(h._("visitor_count"),'</td><td class="wps-text-danger">').concat(h._("percentage"),"</td></tr>"),n=0;n<a.platform_name.length;n++)s+=" <tr><td>".concat(a.platform_name[n],"</td><td>").concat(0<parseInt(a.platform_value[n])?'<a href="'+a.info.visitor_page+"&platform="+a.platform_name[n]+"&from="+a.from+"&to="+a.to+'" target="_blank"> '.concat(h.number_format(a.platform_value[n])," </a>"):h.number_format(a.platform_value[n]),"</td><td>").concat(h.number_format(a.platform_value[n]/a.total*100),"%</td> </tr>");s+=" <tr><td>".concat(h._("total"),"</td><td>").concat(h.number_format(a.total),"</td><td></td></tr>"),s+="</table>",jQuery("#"+h.getMetaBoxKey("platforms-table")+" .inside").html(s),h.set_equal_height(".postBox-table .inside",".postBox-chart .inside")}}},h.post_meta_box={params:function(){return{ID:h.global.page.ID}},view:function(t){t=0<arguments.length&&void 0!==t?t:[];return t.hasOwnProperty("content")?'<div class="wps-center" style="padding: 15px;"> '+t.content+"</div>":'<canvas id="'+h.chart_id("post")+'" height="85"></canvas>'},meta_box_init:function(t){t=0<arguments.length&&void 0!==t?t:[];t.hasOwnProperty("content")?jQuery("#"+h.getMetaBoxKey("post")+" button[onclick]").remove():this.post_hits_chart(h.chart_id("post"),t)},post_hits_chart:function(t,e){e=1<arguments.length&&void 0!==e?e:[];h.line_chart(t,e.title,e.date,[{label:e.post_title,data:e.state,backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1,fill:!0}])}},h.quickstats_meta_box={view:function(t){var e=0<arguments.length&&void 0!==t?t:[],t="";return t+='<table width="100%" class="widefat table-stats wps-summary-stats"><tbody>',t+=h.summary_meta_box.summary_statistics(e),t+="</tbody></table>",t+='<br><hr width="80%"/><br>',t+='<canvas id="'+h.chart_id("quickstats")+'" height="210"></canvas>'},meta_box_init:function(t){t=0<arguments.length&&void 0!==t?t:[];h.hits_meta_box.hits_chart(h.chart_id("quickstats"),t)}},h.recent_meta_box={view:function(t){var t=0<arguments.length&&void 0!==t?t:[],e="";return e+='<div class="wp-statistics-responsive-table">',e+='<table width="100%" class="widefat table-stats wps-report-table"><tbody><tr><td>'.concat(h._("browser"),"</td>")+(h.is_active("geo_ip")?"<td>".concat(h._("country"),"</td>"):"")+""+(h.is_active("geo_city")?"<td>".concat(h._("city"),"</td>"):"")+"<td>".concat(h._("date"),"</td><td>").concat(h._("ip"),"</td><td>").concat(h._("referrer"),"</td></tr>"),t.forEach(function(t){e+='<tr><td style="text-align: left"><a href="'.concat(t.browser.link,'" title="').concat(t.browser.name,'"><img src="').concat(t.browser.logo,'" alt="').concat(t.browser.name,"\" class='log-tools' title='").concat(t.browser.name,"'/></a></td>")+(h.is_active("geo_ip")?'<td style="text-align: left"><img src=\''.concat(t.country.flag,"' alt='").concat(t.country.name,"' title='").concat(t.country.name,"' class='log-tools'/></td>"):"")+""+(h.is_active("geo_city")?"<td>".concat(t.city,"</td>"):"")+'<td style="text-align: left">'.concat(t.date,'</td><td style="text-align: left">')+(t.hash_ip||"<a href='".concat(t.ip.link,"'>").concat(t.ip.value,"</a>"))+'</td><td style="text-align: left">'.concat(t.referred,"</td></tr>")}),e+="</tbody></table>",e+="</div>"}},h.referring_meta_box={view:function(t){var t=0<arguments.length&&void 0!==t?t:[],e="";return e+='<table width="100%" class="widefat table-stats wps-report-table"><tbody><tr><td width="80%">'.concat(h._("address"),'</td><td width="20%">').concat(h.meta_box_lang("referring","references"),"</td></tr>"),t.forEach(function(t){e+="<tr><td>"+h.site_icon(t.domain)+" <a href='//".concat(t.domain,"' title='").concat(t.title,'\' target="_blank">').concat(t.domain,"</a><span class='wps-cursor-default wps-referring-widget-ip'")+(2<t.country.length?' title="'.concat(t.country,'"'):"")+">".concat(t.ip,'</span></td><td class="wps-middle-vertical"><a href="').concat(t.page_link,'">').concat(t.number,"</a></td></tr>")}),e+="</tbody></table>"}},h.search_meta_box={placeholder:function(){return h.rectangle_placeholder()},view:function(t){var e=0<arguments.length&&void 0!==t?t:[],a=h.is_active("overview_page")?110:210;h.isset(h.global,"request_params","page")&&"searches"===h.global.request_params.page&&(a=80);t="";return h.is_active("overview_page")&&(t+=h.btn_group_chart("search",e),setTimeout(function(){h.date_picker()},1e3)),t+='<canvas id="'+h.chart_id("search")+'" height="'+a+'"></canvas>'},meta_box_init:function(t){var a=0<arguments.length&&void 0!==t?t:[],o=[],r=0;Object.keys(a["search-engine"]).forEach(function(t){var e=a["search-engine"][t].name,t=h.random_color(r);o.push({label:e,data:a.stat[e],backgroundColor:"rgba("+t[0]+","+t[1]+","+t[2]+",0.3)",borderColor:"rgba("+t[0]+","+t[1]+","+t[2]+",1)",borderWidth:1,fill:!0}),r++}),1===a.total.active&&o.push({label:h._("total"),data:a.total.stat,backgroundColor:"rgba("+a.total.color+", 0.2)",borderColor:"rgba("+a.total.color+", 1)",borderWidth:1,fill:!0}),h.line_chart(h.chart_id("search"),a.title,a.date,o)}},h.summary_meta_box={summary_statistics:function(t){var o=0<arguments.length&&void 0!==t?t:[],r="";return o.user_online&&(r="<tr><th>".concat(h._("online_users"),':</th><th colspan="2" id="th-colspan"><span><a href="').concat(o.user_online.link,'">').concat(o.user_online.value,"</a></span></th></tr>")),(h.is_active("visitors")||h.is_active("visits"))&&function(){r+='<tr><th width="60%"></th>',["visitors","visits"].forEach(function(t){r+='<th class="th-center">'+(h.is_active(t)?h._(t):"")+"</th>"}),r+="</tr>";for(var a=["today","yesterday","week","month","year","total"],t=0;t<a.length;t++)!function(e){r+="<tr><th>".concat(h._(a[e]),": </th>"),["visitors","visits"].forEach(function(t){r+='<th class="th-center">'+(h.is_active(t)?'<a href="'.concat(o[t][a[e]].link,'"><span>').concat(o[t][a[e]].value,"</span></a>"):"")+"</th>"}),r+="</tr>"}(t)}(),r},view:function(t){var e=0<arguments.length&&void 0!==t?t:[],a="";return a+='<table width="100%" class="widefat table-stats wps-summary-stats"><tbody>',a+=this.summary_statistics(e),h.is_active("visitors")&&(a+='<tr><th colspan="3"><br><hr></th></tr>',a+='<tr><th colspan="3" style="text-align: center;">'.concat(h.meta_box_lang("summary","search_engine"),'</th></tr><tr><th width="60%"></th><th class="th-center">').concat(h._("today"),'</th><th class="th-center">').concat(h._("yesterday"),"</th></tr>"),Object.keys(e["search-engine"]).forEach(function(t){a+='<tr><th><img src="'.concat(e["search-engine"][t].logo,'" alt="').concat(e["search-engine"][t].name,'" class="wps-engine-logo"> ').concat(e["search-engine"][t].name,':</th><th class="th-center"><span>').concat(e["search-engine"][t].today,'</span></th><th class="th-center"><span>').concat(e["search-engine"][t].yesterday,"</span></th></tr>")}),a+="<tr><th>".concat(h._("daily_total"),':</th><td id="th-colspan" class="th-center"><span>').concat(e["search-engine-total"].today,'</span></td><td id="th-colspan" class="th-center"><span>').concat(e["search-engine-total"].yesterday,"</span></td></tr><tr><th>").concat(h._("total"),':</th><th colspan="2" id="th-colspan"><span>').concat(e["search-engine-total"].total,"</span></th></tr>")),a+=' <tr><th colspan="3"><br><hr></th></tr><tr><th colspan="3" style="text-align: center;">'.concat(h.meta_box_lang("summary","current_time_date"),'<span id="time_zone"><a href="').concat(e.timezone["option-link"],'"> ').concat(h.meta_box_lang("summary","adjustment"),'</a></span></th></tr><tr><th colspan="3">').concat(h._("date"),': <code dir="ltr">').concat(e.timezone.date,'</code></th></tr><tr> <th colspan="3">').concat(h._("time"),': <code dir="ltr">').concat(e.timezone.time,"</code></th></tr>"),a+="</tbody></table>"}},h.top_pages_chart_meta_box={placeholder:function(){return h.rectangle_placeholder()},view:function(t){t="";return setTimeout(function(){h.date_picker()},1e3),t+='<canvas id="'+h.chart_id("top-pages-chart")+'" height="80"></canvas>'},meta_box_init:function(t){t=0<arguments.length&&void 0!==t?t:[];this.top_pages_chart(h.chart_id("top-pages-chart"),t)},top_pages_chart:function(t,e){var a=1<arguments.length&&void 0!==e?e:[],o=[],r=0;Object.keys(a.stat).forEach(function(t){var e=h.random_color(r);o.push({label:t,data:a.stat[t],backgroundColor:"rgba("+e[0]+","+e[1]+","+e[2]+",0.3)",borderColor:"rgba("+e[0]+","+e[1]+","+e[2]+",1)",borderWidth:1,fill:!0}),r++}),h.line_chart(t,a.title,a.date,o)}},h.top_visitors_meta_box={view:function(t){var t=0<arguments.length&&void 0!==t?t:[],e="";e+='<div class="wp-statistics-responsive-table">',e+='<table width="100%" class="widefat table-stats wps-report-table"><tbody><tr><td>'.concat(h._("rank"),"</td><td>").concat(h._("hits"),"</td>")+(h.is_active("geo_ip")?"<td>".concat(h._("flag"),"</td><td>").concat(h._("country"),"</td>"):"")+""+(h.is_active("geo_city")?"<td>".concat(h._("city"),"</td>"):"")+"<td>".concat(h._("ip"),"</td><td>").concat(h._("agent"),"</td><td>").concat(h._("platform"),"</td><td>").concat(h._("version"),"</td></tr>");var a=1;return t.forEach(function(t){e+="<tr><td>".concat(a,"</td><td>").concat(t.hits,"</td>")+(h.is_active("geo_ip")?"<td><img src='".concat(t.country.flag,"' alt='").concat(t.country.name,"' title='").concat(t.country.name,"' class='log-tools'/></td><td>").concat(t.country.name,"</td>"):"")+""+(h.is_active("geo_city")?"<td>".concat(t.city,"</td>"):"")+"<td>"+(t.hash_ip||"<a href='".concat(t.ip.link,"'>").concat(t.ip.value,"</a>"))+"</td><td>".concat(t.agent,"</td><td>").concat(t.platform,"</td><td>").concat(t.version,"</td></tr>"),a++}),e+="</tbody></table>",e+="</div>"}},h.useronline_meta_box={view:function(t){var t=0<arguments.length&&void 0!==t?t:[],e="";return e+='<table class="widefat table-stats wps-report-table wps-table-fixed"><tr>'+(h.is_active("geo_ip")?"<td style='text-align: left;'>".concat(h._("country"),"</td>"):"")+"<td style='text-align: left;'>".concat(h._("ip"),"</td><td width=\"35%\" style='text-align: left;'>").concat(h._("page"),"</td><td style='text-align: left;'>").concat(h._("referrer"),"</td></tr>"),t.forEach(function(t){e+="<tr>"+(h.is_active("geo_ip")?'<td style="text-align: left"><img src=\''.concat(t.country.flag,"' alt='").concat(t.country.name,"' title='").concat(t.country.name,"' class='log-tools'/></td>"):"")+"<td style='text-align: left !important'>"+(t.hash_ip||t.ip.value)+"</td><td style='text-align: left !important;'><span class=\"wps-text-wrap\">"+(2<t.page.link.length?'<a href="'.concat(t.page.link,'" title="').concat(t.page.title,'" target="_blank" class="wps-text-danger">'):"")+t.page.title+(2<t.page.link.length?"</a>":"")+'</span></td><td style="text-align: left !important">'.concat(t.referred,"</td></tr>")}),e+="</table>"}},h.words_meta_box={view:function(t){var t=0<arguments.length&&void 0!==t?t:[],e="";e+='<div class="wp-statistics-responsive-table">',e+='<table width="100%" class="widefat table-stats wps-report-table"><tbody><tr><td>'.concat(h._("word"),"</td><td>").concat(h._("browser"),"</td>")+(h.is_active("geo_ip")?"<td>".concat(h._("country"),"</td>"):"")+""+(h.is_active("geo_city")?"<td>".concat(h._("city"),"</td>"):"")+"<td>".concat(h._("date"),"</td><td>").concat(h._("ip"),"</td><td>").concat(h._("referrer"),"</td></tr>");return t.forEach(function(t){e+='<tr><td style="text-align: left"><span title=\''.concat(t.word,"' class='wps-cursor-default wps-text-wrap")+(h.is_active("overview_page")?" wps-200-px":"")+"'>".concat(t.word,'</span></td><td style="text-align: left"><a href="').concat(t.browser.link,'" title="').concat(t.browser.name,'"><img src="').concat(t.browser.logo,'" alt="').concat(t.browser.name,"\" class='log-tools' title='").concat(t.browser.name,"'/></a></td>")+(h.is_active("geo_ip")?'<td style="text-align: left"><img src=\''.concat(t.country.flag,"' alt='").concat(t.country.name,"' title='").concat(t.country.name,"' class='log-tools'/></td>"):"")+(h.is_active("geo_city")?'<td style="text-align: left">'.concat(t.city,"</td>"):"")+'<td style="text-align: left">'.concat(t.date,'</td><td style="text-align: left">')+(t.hash_ip||"<a href='".concat(t.ip.link,"'>").concat(t.ip.value,"</a>"))+'</td><td style="text-align: left">'.concat(t.referred,"</td></tr>"),0}),e+="</tbody></table>",e+="</div>"}},h.isset(h.global,"request_params","page")&&"authors"===h.global.request_params.page&&(a={ago:30,type:"author",ID:0},["from","to","ID"].forEach(function(t){h.isset(h.global,"request_params",t)&&(a[t]=h.global.request_params[t])}),jQuery("span[id^='number-total-']").html(h.rectangle_placeholder("wps-text-placeholder")),h.run_meta_box("pages-chart",a,!1)),h.isset(h.global,"request_params","page")&&"browser"===h.global.request_params.page&&(o={},["from","to"].forEach(function(t){h.isset(h.global,"request_params",t)&&(o[t]=h.global.request_params[t])}),["browsers-table","browsers"].forEach(function(t){jQuery("#"+h.getMetaBoxKey(t)+" .inside").css("height","430px")}),jQuery("#wp-statistics-browsers-table-widget .inside").html(h.placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;"),h.run_meta_box("browsers",o,!1)),h.isset(h.global,"request_params","page")&&"categories"===h.global.request_params.page&&(r={ago:30,type:"category",ID:0},["from","to","ID"].forEach(function(t){h.isset(h.global,"request_params",t)&&(r[t]=h.global.request_params[t])}),jQuery("span[id^='number-total-']").html(h.rectangle_placeholder("wps-text-placeholder")),h.run_meta_box("pages-chart",r,!1)),h.isset(h.global,"request_params","page")&&"countries"===h.global.request_params.page&&(s={limit:0},["from","to"].forEach(function(t){h.isset(h.global,"request_params",t)&&(s[t]=h.global.request_params[t])}),h.run_meta_box("countries",s,!1)),h.isset(h.global,"request_params","page")&&"exclusions"===h.global.request_params.page&&(n=h.isset(h.global,"request_params","from")&&h.isset(h.global,"request_params","to")?{from:h.global.request_params.from,to:h.global.request_params.to}:{ago:30},jQuery("span[id^='number-total-chart-']").html(h.rectangle_placeholder("wps-text-placeholder")),h.run_meta_box("exclusions",n,!1)),h.isset(h.global,"request_params","page")&&"hits"===h.global.request_params.page&&(n={},n=h.isset(h.global,"request_params","from")&&h.isset(h.global,"request_params","to")?{from:h.global.request_params.from,to:h.global.request_params.to}:{ago:30},jQuery("span[id^='number-total-chart-']").html(h.rectangle_placeholder("wps-text-placeholder")),h.run_meta_box("hits",n,!1)),h.isset(h.global,"request_params","page")&&"overview"===h.global.request_params.page&&h.isset(h.global,"overview","ads")&&h.is_active("overview_ads")&&(i='<div id="wps_overview_ads_postbox" class="postbox"><div class="inside"><div class="close-overview-ads"><span class="dashicons dashicons-dismiss"></span></div><a href="'.concat(h.global.overview.ads.link,'" title="').concat(h.global.overview.ads.title,'" ').concat("yes"==h.global.overview.ads._target?' target="_blank"':"",'><img src="').concat(h.global.overview.ads.image,'" id="wps_overview_ads_image" alt="').concat(h.global.overview.ads.title,'"></a></div></div>'),jQuery(i).insertAfter("#wps-postbox-container-2 #normal-sortables div.postbox:first"),jQuery(document).on("click",".close-overview-ads",function(){jQuery("#wps_overview_ads_postbox").fadeOut("normal"),jQuery.ajax({url:h.global.admin_url+"admin-ajax.php",type:"get",data:{action:"wp_statistics_close_overview_ads",ads_id:""+h.global.overview.ads.ID,wps_nonce:""+h.global.rest_api_nonce},datatype:"json"})}),jQuery("#wps-donate-notice").on("click",".notice-dismiss",function(){jQuery.ajax({url:h.global.admin_url+"admin-ajax.php",type:"get",data:{action:"wp_statistics_close_notice",notice:"donate",wps_nonce:""+h.global.rest_api_nonce},datatype:"json"})}),jQuery("#wps_overview_ads_image").on("error",function(){jQuery("#wps_overview_ads_postbox").remove()})),h.isset(h.global,"request_params","page")&&"pages"===h.global.request_params.page&&(h.isset(h.global,"request_params","ID")&&h.isset(h.global,"request_params","type")?(i=h.isset(h.global,"request_params","from")&&h.isset(h.global,"request_params","to")?{from:h.global.request_params.from,to:h.global.request_params.to}:{ago:30},i=Object.assign(i,{ID:h.global.request_params.ID,type:h.global.request_params.type}),h.run_meta_box("pages-chart",i,!1),h.exist_tag("form#wp-statistics-select-pages")&&h.select2(),jQuery(document).on("change","select[name=ID]",function(){jQuery("span.submit-form").html(h._("please_wait")),jQuery(this).closest("form").trigger("submit")})):(l={},h.isset(h.global,"request_params","pagination-page")&&(l.paged=h.global.request_params["pagination-page"]),h.isset(h.global,"request_params","from")&&h.isset(h.global,"request_params","to")?(l.from=h.global.request_params.from,l.to=h.global.request_params.to):l.ago=30,h.run_meta_box("top-pages-chart",l,!1))),h.isset(h.global,"request_params","page")&&"platform"===h.global.request_params.page&&(c={},["from","to"].forEach(function(t){h.isset(h.global,"request_params",t)&&(c[t]=h.global.request_params[t])}),["platforms-table","platforms"].forEach(function(t){jQuery("#"+h.getMetaBoxKey(t)+" .inside").css("height","430px")}),jQuery("#wp-statistics-platforms-table-widget .inside").html(h.placeholder()),jQuery(".wps-ph-picture").attr("style","height: 310px;"),h.run_meta_box("platforms",c,!1)),h.isset(h.global,"request_params","page")&&"searches"===h.global.request_params.page&&(l=h.isset(h.global,"request_params","from")&&h.isset(h.global,"request_params","to")?{from:h.global.request_params.from,to:h.global.request_params.to}:{ago:30},h.run_meta_box("search",l,!1)),jQuery(".wp-statistics-settings").length&&((d=function(t){if(t=new RegExp("[?&]"+t+"=([^&#]*)").exec(window.location.href))return t[1]}("tab"))&&m(d),jQuery(".wp-statistics-settings ul.tabs li").click(function(){m(jQuery(this).attr("data-tab"))})),g("input[name=wps_visitors]","tr[data-view=visitors_log_tr]"),g("input[name=wps_referrerspam]","tr.referrerspam_field"),h.isset(h.global,"request_params","page")&&"settings"===h.global.request_params.page&&(jQuery("#wp-statistics-settings-form ul.tabs li").click(function(t){t.preventDefault();t=e(this).attr("data-tab");"undefined"!=typeof localStorage&&localStorage.setItem("wp-statistics-settings-active-tab",t)}),"undefined"==typeof localStorage||!h.isset(h.global,"request_params","save_setting")||"yes"!==h.global.request_params.save_setting||0<(d=localStorage.getItem("wp-statistics-settings-active-tab")).length&&e("#wp-statistics-settings-form ul.tabs li[data-tab="+d+"]").click()),h.isset(h.global,"request_params","page")&&"tags"===h.global.request_params.page&&(p={ago:30,type:"post_tag",ID:0},["from","to","ID"].forEach(function(t){h.isset(h.global,"request_params",t)&&(p[t]=h.global.request_params[t])}),jQuery("span[id^='number-total-']").html(h.rectangle_placeholder("wps-text-placeholder")),h.run_meta_box("pages-chart",p,!1)),h.isset(h.global,"request_params","page")&&"visitors"===h.global.request_params.page&&(u=function(t,o){var r='<table class="widefat">',s={browsers:["agent","browsers"],country:["location","location"],platform:["platform","platform"],referrer:["referrer","referrer"],user:["user_id","users"]};Object.keys(s).forEach(function(e){r+="<tr><td>".concat(h._(e),"</td></tr>"),r+='<tr><td><select name="'.concat(s[e][0],'" class="select2 wps-width-100" data-type-show="select2">'),r+="<option value=''>".concat(h._("all"),"</option>");var a=h.getLinkParams(s[e][0]);Object.keys(o[s[e][1]]).forEach(function(t){r+="<option value='".concat(t,"' ").concat(null!=a&&a==t?"selected":"",">").concat(o[s[e][1]][t],"</option>")}),r+="</select></td></tr>"}),r+="<tr><td>".concat(h._("ip"),"</td></tr>"),r+='<tr><td><input name="ip" value="'.concat(null!=h.getLinkParams("ip")?h.getLinkParams("ip"):"",'" class="wps-width-100" placeholder=\'xxx.xxx.xxx.xxx\' autocomplete="off"></td></tr>'),r+="<tr><td>".concat(h._("date"),"</td></tr>");var e="width: calc(50% - 5px);display: inline-block;";r+='<tr><td><div style="'.concat(e,'">').concat(h._("from"),': <input name="date-from" data-wps-date-picker="from" value="').concat(null!=h.getLinkParams("from")?h.getLinkParams("from"):"",'" style="width: calc(100% - 5px);" placeholder="YYYY-MM-DD" autocomplete="off"></div><div style="').concat(e,'">').concat(h._("to"),': <input name="date-to" data-wps-date-picker="to" value="').concat(null!=h.getLinkParams("to")?h.getLinkParams("to"):"",'" style="width: 100%;" placeholder="YYYY-MM-DD" autocomplete="off"></div><input type="hidden" name="from" id="date-from" value="').concat(null!=h.getLinkParams("from")?h.getLinkParams("from"):"",'"><input type="hidden" name="to" id="date-to" value="').concat(null!=h.getLinkParams("to")?h.getLinkParams("to"):"",'"></td></tr>'),r+="<tr><td></td></tr>",r+='<tr><td><input type="submit" value="'.concat(h._("filter"),'" class="button-primary"> &nbsp; <span class="filter-loading"></span></td></tr>'),r+="</table>",jQuery(t).html(r),setTimeout(function(){h.date_picker(),h.select2()},200)},jQuery(document).on("click","div#visitors-filter",function(t){t.preventDefault(),tb_show("","#TB_inline?&width=430&height=668&inlineId=visitors-filter-popup"),setTimeout(function(){var t,e,a="#wps-visitors-filter-form";h.exist_tag(a+" input[type=submit]")||(jQuery(a).html('<div style="height: 50px;"></div>'+h.line_placeholder(5)),t=localStorage.getItem("wp-statistics-visitors-filter")?JSON.parse(localStorage.getItem("wp-statistics-visitors-filter")):{},!h.isset(t,"timestamp")||!h.isset(t,"value")||h.isset(t,"timestamp")&&h.isset(t,"value")&&(new Date).getTime().toString()>parseInt(t.timestamp)?(e={wps_nonce:h.global.rest_api_nonce,action:"wp_statistics_visitors_page_filters"},e=Object.assign(e,h.global.request_params),jQuery.ajax({url:h.global.admin_url+"admin-ajax.php",type:"GET",dataType:"json",data:e,timeout:3e4,success:function(t){localStorage.setItem("wp-statistics-visitors-filter",JSON.stringify({value:t,timestamp:(new Date).getTime()+216e5})),u(a,t)},error:function(){jQuery("span.tb-close-icon").click()}})):u(a,t.value))},500)}),_="#wp_statistics_visitors_filter_form",jQuery(document).on("submit",_,function(){var t=jQuery(_+" input[name=date-from]"),e=jQuery(_+" input[name=date-to]");if(0<t.val().length&&e.val().length<1||t.val().length<1&&1<e.val().length)return alert(h._("er_datepicker")),!1;e=jQuery(_+" input[name=ip]").val();if(0<e.length&&!1===h.isIP(e))return alert(h._("er_valid_ip")),!1;jQuery("input[data-wps-date-picker]").prop("disabled",!0);var o={input:["date-from","date-to","ip"],select:["agent","platform","location","referrer","user_id"]};Object.keys(o).forEach(function(a){o[a].forEach(function(e){var t=jQuery(_+" "+a+"[name="+e+"]");t.val().length<1&&(t.prop("disabled",!0),["from","to"].forEach(function(t){e=="date-"+t&&jQuery(_+" input[name="+t+"]").prop("disabled",!0)}))})});e=h.getLinkParams("order");return null!=e&&jQuery(this).append('<input type="hidden" name="order" value="'+e+'" /> '),jQuery("span.filter-loading").html(h._("please_wait")),!0})),h.date_picker(),("index.php"===h.global.page.file||h.is_active("overview_page")||"post-new.php"===h.global.page.file||"post.php"===h.global.page.file&&h.isset(h.global,"page","ID"))&&h.run_meta_boxes()});